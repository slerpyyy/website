<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Generalizing Kaminski's Equation | This is slerpy</title><meta name=keywords content><meta name=description content="The ideas in this write-up were originally explored in the context of the university course &#34;Introduction to Computational Logic&#34; by Prof. Gert Smolka and posted in the course-internal forum. Here, I want to elaborate on the forum post and give enough context to keep it mostly self-contained.
Kaminski's Equation In the lecture, we learned about Kaminski's equation, an interesting statement about functions on boolean values ($\mathbb{B}$). It formally states the following."><meta name=author content><link rel=canonical href=https://slerpy.xyz/posts/generalizing-kaminskis-equation/><link crossorigin=anonymous href=/assets/css/stylesheet.7cea68b77c83e5da57c9a11c56919d4de2e6847751854f818c1d6aeb21f21f85.css integrity="sha256-fOpot3yD5dpXyaEcVpGdTeLmhHdRhU+BjB1q6yHyH4U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://slerpy.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://slerpy.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://slerpy.xyz/favicon-32x32.png><link rel=apple-touch-icon href=https://slerpy.xyz/apple-touch-icon.png><link rel=mask-icon href=https://slerpy.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Generalizing Kaminski's Equation"><meta property="og:description" content="The ideas in this write-up were originally explored in the context of the university course &#34;Introduction to Computational Logic&#34; by Prof. Gert Smolka and posted in the course-internal forum. Here, I want to elaborate on the forum post and give enough context to keep it mostly self-contained.
Kaminski's Equation In the lecture, we learned about Kaminski's equation, an interesting statement about functions on boolean values ($\mathbb{B}$). It formally states the following."><meta property="og:type" content="article"><meta property="og:url" content="https://slerpy.xyz/posts/generalizing-kaminskis-equation/"><meta property="og:image" content="https://slerpy.xyz/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-20T00:00:00+00:00"><meta property="article:modified_time" content="2022-05-20T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://slerpy.xyz/papermod-cover.png"><meta name=twitter:title content="Generalizing Kaminski's Equation"><meta name=twitter:description content="The ideas in this write-up were originally explored in the context of the university course &#34;Introduction to Computational Logic&#34; by Prof. Gert Smolka and posted in the course-internal forum. Here, I want to elaborate on the forum post and give enough context to keep it mostly self-contained.
Kaminski's Equation In the lecture, we learned about Kaminski's equation, an interesting statement about functions on boolean values ($\mathbb{B}$). It formally states the following."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://slerpy.xyz/posts/"},{"@type":"ListItem","position":2,"name":"Generalizing Kaminski's Equation","item":"https://slerpy.xyz/posts/generalizing-kaminskis-equation/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Generalizing Kaminski's Equation","name":"Generalizing Kaminski\u0027s Equation","description":"The ideas in this write-up were originally explored in the context of the university course \u0026quot;Introduction to Computational Logic\u0026quot; by Prof. Gert Smolka and posted in the course-internal forum. Here, I want to elaborate on the forum post and give enough context to keep it mostly self-contained.\nKaminski's Equation In the lecture, we learned about Kaminski's equation, an interesting statement about functions on boolean values ($\\mathbb{B}$). It formally states the following.","keywords":[],"articleBody":"The ideas in this write-up were originally explored in the context of the university course \"Introduction to Computational Logic\" by Prof. Gert Smolka and posted in the course-internal forum. Here, I want to elaborate on the forum post and give enough context to keep it mostly self-contained.\nKaminski's Equation In the lecture, we learned about Kaminski's equation, an interesting statement about functions on boolean values ($\\mathbb{B}$). It formally states the following.\n$$ \\Large \\forall f : \\mathbb{B}\\to\\mathbb{B}.\\ \\forall x.\\ f\\,(f\\,(f\\,x)) = f\\,x $$\nThe equation was first introduced by Mark Kaminski, one of Smolka's former students, in his Bachelor's thesis on classical higher-order logic in 2005.\nTo understand why this is true, we first realize that $\\mathbb{B}\\to\\mathbb{B}$ only contains 4 different functions. Since there are only two different input values, we can fully describe any function $f:\\mathbb{B}\\to\\mathbb{B}$ by considering the values of $f\\,0$ and $f\\,1$. For each of those two values, we again only have two options, meaning there are $2^2$ functions in total.\nIn particular, those functions are $I$ (identity), $T$ (transpose/negation), $0$ (constant zero), and $1$ (constant one). For any $x:\\mathbb{B}$, the identity ($I$) gives us $f\\,x = x$, transpose ($T$) satisfies $f\\,(f\\,x) = x$, and the two constant functions ($0$, $1$) yield $f\\,(f\\,x) = f\\,x$.\nSo $f\\,(f\\,(f\\,x)) = f\\,x$ is the shortest equation that is implied by all the above identities and therefore holds for all (four) functions $f:\\mathbb{B}\\to\\mathbb{B}$ and all (two) values $x:\\mathbb{B}$.\nThe General Case You might have noticed that no part of Kaminski's equation is specific to \"truth values\". The same statement can be shown for any type that has exactly two elements. So we might start wondering if there is an analogous equation for types with three or four elements, or types with any fixed number of elements.\nTo make this idea more formal, we will define the generalized Kaminski equation using the following predicate.\n$$ \\Large G\\,(n\\,a\\,b : \\mathbb{N})\\ :=\\ \\forall f : \\mathbb{F}_n\\to\\mathbb{F}_n.\\ \\forall x : \\mathbb{F}_n.\\ f^a\\,x = f^b\\,x $$\nHere, $\\mathbb{F}_n$ refers to the finite type with $n$ elements (equivalent to $\\{0, 1, 2, \\dots, n-1\\}$), and $f^n$ denotes repeated function application. Using this predicate, Kaminski's equation as discussed above may be expressed as $G\\,2\\,3\\,1$, since $\\mathbb{B}$ is equivalent to $\\mathbb{F}_2 = \\{0, 1\\}$.\nInitial Exploration Let's get some intuition for how this predicate $G$ behaves. Since both $f$ and $x$ are finite, we can compute the predicate for any choice of $n$, $a$, and $b$ by brute force. This isn't very efficient since $\\mathbb{F}_n$ has $n$ elements and $\\mathbb{F}_n\\to\\mathbb{F}_n$ has $n^n$ elements, but it's doable for small values of $n$.\nHere are visualizations for $G\\,3$ and $G\\,4$.\nBasic Properties There is already some interesting structure to unpack in the two plots above. Let's try to explain what's going on here.\nFirst, $G\\,n$ is an equality relation. This follows directly from the equality used in the definition of $G$. The reflexivity property ($G\\,n\\,a\\,a$) explains the middle diagonal and the symmetry property ($G\\,n\\,a\\,b\\leftrightarrow G\\,n\\,b\\,a$) explains the symmetry axis in both plots.\nNext, we notice that $G\\,n$ is additive, i.e. $G\\,n\\,a\\,b \\to G\\,n\\,c\\,d \\to G\\,n\\,(a+c)\\,(b+d)$. This is true, since $f^{a+c}\\,x = f^{b+d}\\,x$ can be rewritten as $f^a\\,(f^c\\,x) = f^b\\,(f^d\\,x)$. Now the second assumption ($G\\,n\\,c\\,d$) tells us that $f^c\\,x = f^d\\,x = y$, so it suffices to show $f^a\\,y = f^b\\,y$, which is given by the first assumption ($G\\,n\\,a\\,b$).\nUsing additivity and reflexivity, we get $G\\,n\\,a\\,b \\to G\\,n\\,(a+c)\\,(b+c)$, which explains why all solutions trail off towards infinity in the plots. We will refer to this as the \"trailing\" property.\nNext, we have $G\\,n\\,a\\,(a+b) \\to G\\,n\\,a\\,(a+b+b)$. By applying the assumption twice, we get $f^a\\,x = f^{a + b}\\,x = f^b\\,(f^a\\,x) = f^b\\,(f^{a + b}\\,x) = f^{a + b + b}\\,x$, which is what we wanted to show. This explains why the solutions seem to repeat at a fixed interval going away from the middle diagonal. We will refer to this as the \"extra lap\" property.\nAt this point, we understand almost all the complexity we see in the plots. Once we know the smallest non-trivial solution to $G\\,n$, so the first solution that is not on the middle diagonal, we can use the above properties to unfold the entire plot.\nNon-Trivial Solutions We want to show that $G\\,n$ has non-trivial solutions, i.e. $\\exists a b.\\ a\\neq b\\wedge G\\,n\\,a\\,b$. Consider the function $g\\,(k : \\mathbb{N})\\,(f : \\mathbb{F}_n\\to\\mathbb{F}_n)\\,(x : \\mathbb{F}_n) := f^k\\,x$. Since $g$ takes an infinite type as its first argument and returns a finite type, it cannot be injective. Formally, that is to say $\\neg\\forall ab.\\ g\\,a = g\\,b\\to a = b$. By expanding $g$, we get $\\neg\\forall ab.\\ (\\forall f x.\\ f^a\\,x = f^b\\,x)\\to a = b$. Finally, we push the negation to get $\\exists ab.\\ (\\forall f x.\\ f^a\\,x = f^b\\,x)\\wedge a \\neq b$, which is what we wanted to show.\nSo now we know that every $G\\,n$ has non-trivial solutions, we only need to figure out where they are. We can once again use brute force to find the first couple of these solutions.\n$n$ 1 2 3 4 5 6 ... $a$ 0 1 2 3 4 5 ... $b$ 1 3 8 15 64 65 ... The sequence for $a$ is fairly straightforward. For $b$, I had to consult the OEIS, which only gave me a single match (A065500) for the above sequence.\nThis leads us to conjecture the following statement.\n$$ \\Large \\forall n.\\ G\\,n\\,(n-1)\\,(\\operatorname{lcm}(1\\dots n)+n-1) $$\nHere, the $\\operatorname{lcm}(1\\dots n)$ is the least common multiple of all natural numbers from $1$ to $n$. It is the smallest natural number that is divisible by all natural numbers from $1$ to $n$.\nThe proof for $G\\,3\\,2\\,8$ Before we prove the full statement, we will walk through the proof of $G\\,3\\,2\\,8$. That is, we want to show the following.\n$$ \\Large \\forall f : \\mathbb{F}_3\\to\\mathbb{F}_3.\\ \\forall x : \\mathbb{F}_3.\\ f^2\\,x = f^8\\,x $$\nHere, we have two cases to consider.\nCase $f$ is not surjective.\nIn this case, there must be at least one element in $\\mathbb{F}_3$ that is not in the image of $f$. This means the image of $f$ can be fully described by $\\mathbb{F}_2$, so we only have to show $G\\,2\\,1\\,7$.\nUsing the \"extra lap\" property twice, we can rewrite $G\\,2\\,1\\,(1+2+2+2)$ to $G\\,2\\,1\\,(1+2)$. Finally, we need to show $G\\,2\\,1\\,3$, which is Kaminski's original equation.\n(You can imagine that the proof for $G\\,4\\,3\\,15$ is going to fall back to this proof here).\nCase $f$ is surjective.\nSince the function $f$ is surjective and has exactly $n$ different values as input and output, there must be exactly one input for every output, so $f$ is also injective. This means $f$ must be a bijection, and hence a permutation.\nThe cycle length of this permutation could be $1$, $2$, or $3$. In general, it's not possible to have cycles in $\\mathbb{F}_n$ that are longer than $n$. This is because, if you make a list of the values $f^0 x$, $f^1 x$, $f^2 x$ to $f^n x$, then there are $n+1$ elements, but at most $n$ of those can be distinct.\nIf we apply $f$ to some value $6$ times, we are guaranteed to get the original value back, since $6$ is a multiple of all possible cycle lengths.\nThis means we get $G\\,3\\,0\\,6$ for this case. Using the \"trailing\" property, we get $G\\,3\\,2\\,8$, which is what we wanted to show.\nFinally, we want to prove the general case.\nThe Proof for the General Case $$ \\Large \\forall n.\\ G\\,n\\,(n-1)\\,(\\operatorname{lcm}(1\\dots n)+n-1) $$\nProof by natural induction over $n:\\mathbb{N}$.\nCase $n = 0$.\nSince $\\mathbb{F}_0$ is empty, this case is trivial.\nCase $n \\to n + 1$.\nWe need to show $G\\,(n+1)\\,n\\,(\\operatorname{lcm}(1\\dots (n+1))+n)$.\nHere, we have two cases to consider.\nCase $f$ is not surjective.\nHere, the image of $f$ can be fully described by $\\mathbb{F}_n$.\nSo it suffices to show $G\\,n\\,(n-1)\\,(\\operatorname{lcm}(1\\dots (n+1))+n-1)$.\nLet $k$ be $\\operatorname{lcm}(1\\dots (n+1))\\,/\\,\\operatorname{lcm}(1\\dots n)$.\nUsing \"extra lap\" $k$-times, we get $G\\,n\\,(n-1)\\,(\\operatorname{lcm}(1\\dots n)+n-1)$, which is the inductive hypothesis.\nCase $f$ is surjective.\nNow we know $f$ is a permutation with cycle length $\\le n+1$.\nSo $f^{\\operatorname{lcm}(1\\dots (n+1))}$ is identity, since $\\operatorname{lcm}(1\\dots (n+1))$ is a multiple of the cycle length by construction.\nThis gives us $G\\,(n+1)\\,0\\,(\\operatorname{lcm}(1\\dots (n+1)))$ for this case.\nUsing the \"trailing\" property, we get $G\\,(n+1)\\,n\\,(\\operatorname{lcm}(1\\dots (n+1))+n)$, which is what we wanted to show.\nQed.\nConclusion We have proven the Generalized Kaminski Equation:\n$$ \\Large \\forall n.\\ \\forall f : \\mathbb{F}_n\\to\\mathbb{F}_n.\\ \\forall x.\\ f^{n-1}\\,x = f^{\\operatorname{lcm}(1\\dots n) + n - 1}\\,x $$\nAfter posting my results to the course-internal forum, I was handed one (1) cookie as a reward for my efforts1 (it was worth it).\nIs this equation useful? Probably not. The $\\operatorname{lcm}(1\\dots n)$ grows exponentially. If you have some unknown function on 4-bit numbers (so $\\mathbb{F}_{16}$), you need $720\\,735$ application of that function until you can safely replace it with just $15$ applications. For 5-bit numbers, you already need $144\\,403\\,552\\,893\\,631$ iterations before you can simplify anything.\nAnyway, that's it, thank you.\nProf. Smolka also approached me about the post a few days later and offered to supervise my bachelor's thesis. Unfortunately, I was already working on my thesis with another professor then and had to turn down the offer. ↩︎\n","wordCount":"1524","inLanguage":"en","datePublished":"2022-05-20T00:00:00Z","dateModified":"2022-05-20T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://slerpy.xyz/posts/generalizing-kaminskis-equation/"},"publisher":{"@type":"Organization","name":"This is slerpy","logo":{"@type":"ImageObject","url":"https://slerpy.xyz/favicon.ico"}}}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css integrity=sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0 crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js integrity=sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],macros:{"’":"'"}})})</script><link rel=stylesheet type=text/css href=/hugo-cite.css></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://slerpy.xyz/ accesskey=h title="This is slerpy (Alt + H)">This is slerpy</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://slerpy.xyz/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://slerpy.xyz/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://slerpy.xyz/contact/ title=Contact><span>Contact</span></a></li><li><a href=https://slerpy.xyz/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://slerpy.xyz/legacy/ title=Legacy><span>Legacy</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://slerpy.xyz/>Home</a>&nbsp;»&nbsp;<a href=https://slerpy.xyz/posts/>Posts</a></div><h1 class=post-title>Generalizing Kaminski's Equation</h1><div class=post-meta><span title='2022-05-20 00:00:00 +0000 UTC'>May 20, 2022</span>&nbsp;·&nbsp;8 min</div></header><div class=post-content><p>The ideas in this write-up were originally explored in the context of the university course "Introduction to Computational Logic" by Prof. Gert Smolka and posted in the course-internal forum.
Here, I want to elaborate on the forum post and give enough context to keep it mostly self-contained.</p><h2 id=kaminskis-equation>Kaminski's Equation<a hidden class=anchor aria-hidden=true href=#kaminskis-equation>#</a></h2><p>In the lecture, we learned about Kaminski's equation, an interesting statement about functions on boolean values ($\mathbb{B}$). It formally states the following.</p><p>$$
\Large
\forall f : \mathbb{B}\to\mathbb{B}.\ \forall x.\ f\,(f\,(f\,x)) = f\,x
$$</p><p>The equation was first introduced by Mark Kaminski, one of Smolka's former students, in his Bachelor's thesis on classical higher-order logic in 2005.</p><p>To understand why this is true, we first realize that $\mathbb{B}\to\mathbb{B}$ only contains 4 different functions.
Since there are only two different input values,
we can fully describe any function $f:\mathbb{B}\to\mathbb{B}$ by considering the values of $f\,0$ and $f\,1$.
For each of those two values, we again only have two options,
meaning there are $2^2$ functions in total.</p><p>In particular, those functions are
$I$ (identity), $T$ (transpose/negation), $0$ (constant zero), and $1$ (constant one).
For any $x:\mathbb{B}$, the identity ($I$) gives us $f\,x = x$, transpose ($T$) satisfies $f\,(f\,x) = x$, and the two constant functions ($0$, $1$) yield $f\,(f\,x) = f\,x$.</p><p>So $f\,(f\,(f\,x)) = f\,x$ is the shortest equation that is implied by all the above identities
and therefore holds for all (four) functions $f:\mathbb{B}\to\mathbb{B}$ and all (two) values $x:\mathbb{B}$.</p><h2 id=the-general-case>The General Case<a hidden class=anchor aria-hidden=true href=#the-general-case>#</a></h2><p>You might have noticed that no part of Kaminski's equation is specific to "truth values".
The same statement can be shown for any type that has exactly two elements.
So we might start wondering if there is an analogous equation for types with three or four elements,
or types with any fixed number of elements.</p><p>To make this idea more formal, we will define the generalized Kaminski equation using the following predicate.</p><p>$$
\Large
G\,(n\,a\,b : \mathbb{N})\ :=\ \forall f : \mathbb{F}_n\to\mathbb{F}_n.\ \forall x : \mathbb{F}_n.\ f^a\,x = f^b\,x
$$</p><p>Here, $\mathbb{F}_n$ refers to the finite type with $n$ elements (equivalent to $\{0, 1, 2, \dots, n-1\}$), and $f^n$ denotes repeated function application.
Using this predicate, Kaminski's equation as discussed above may be expressed as $G\,2\,3\,1$, since $\mathbb{B}$ is equivalent to $\mathbb{F}_2 = \{0, 1\}$.</p><h2 id=initial-exploration>Initial Exploration<a hidden class=anchor aria-hidden=true href=#initial-exploration>#</a></h2><p>Let's get some intuition for how this predicate $G$ behaves.
Since both $f$ and $x$ are finite, we can compute the predicate for any choice of $n$, $a$, and $b$ by brute force.
This isn't very efficient since $\mathbb{F}_n$ has $n$ elements and $\mathbb{F}_n\to\mathbb{F}_n$ has $n^n$ elements, but it's doable for small values of $n$.</p><p>Here are visualizations for $G\,3$ and $G\,4$.</p><p><img loading=lazy src=/generalizing-kaminskis-equation/plot.png alt=image></p><h2 id=basic-properties>Basic Properties<a hidden class=anchor aria-hidden=true href=#basic-properties>#</a></h2><p>There is already some interesting structure to unpack in the two plots above.
Let's try to explain what's going on here.</p><p>First, $G\,n$ is an equality relation.
This follows directly from the equality used in the definition of $G$.
The reflexivity property ($G\,n\,a\,a$) explains the middle diagonal and the symmetry property ($G\,n\,a\,b\leftrightarrow G\,n\,b\,a$) explains the symmetry axis in both plots.</p><p>Next, we notice that $G\,n$ is additive, i.e. $G\,n\,a\,b \to G\,n\,c\,d \to G\,n\,(a+c)\,(b+d)$.
This is true, since $f^{a+c}\,x = f^{b+d}\,x$ can be rewritten as $f^a\,(f^c\,x) = f^b\,(f^d\,x)$.
Now the second assumption ($G\,n\,c\,d$) tells us that $f^c\,x = f^d\,x = y$,
so it suffices to show $f^a\,y = f^b\,y$,
which is given by the first assumption ($G\,n\,a\,b$).</p><p>Using additivity and reflexivity, we get $G\,n\,a\,b \to G\,n\,(a+c)\,(b+c)$, which explains why all solutions trail off towards infinity in the plots. We will refer to this as the "trailing" property.</p><p>Next, we have $G\,n\,a\,(a+b) \to G\,n\,a\,(a+b+b)$.
By applying the assumption twice, we get $f^a\,x = f^{a + b}\,x = f^b\,(f^a\,x) = f^b\,(f^{a + b}\,x) = f^{a + b + b}\,x$, which is what we wanted to show. This explains why the solutions seem to repeat at a fixed interval going away from the middle diagonal. We will refer to this as the "extra lap" property.</p><p>At this point, we understand almost all the complexity we see in the plots. Once we know the smallest non-trivial solution to $G\,n$, so the first solution that is not on the middle diagonal, we can use the above properties to unfold the entire plot.</p><h2 id=non-trivial-solutions>Non-Trivial Solutions<a hidden class=anchor aria-hidden=true href=#non-trivial-solutions>#</a></h2><p>We want to show that $G\,n$ has non-trivial solutions, i.e. $\exists a b.\ a\neq b\wedge G\,n\,a\,b$.
Consider the function $g\,(k : \mathbb{N})\,(f : \mathbb{F}_n\to\mathbb{F}_n)\,(x : \mathbb{F}_n) := f^k\,x$.
Since $g$ takes an infinite type as its first argument and returns a finite type, it cannot be injective.
Formally, that is to say $\neg\forall ab.\ g\,a = g\,b\to a = b$.
By expanding $g$, we get $\neg\forall ab.\ (\forall f x.\ f^a\,x = f^b\,x)\to a = b$.
Finally, we push the negation to get $\exists ab.\ (\forall f x.\ f^a\,x = f^b\,x)\wedge a \neq b$, which is what we wanted to show.</p><p>So now we know that every $G\,n$ has non-trivial solutions, we only need to figure out where they are. We can once again use brute force to find the first couple of these solutions.</p><table><thead><tr><th>$n$</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>...</th></tr></thead><tbody><tr><td>$a$</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>...</td></tr><tr><td>$b$</td><td>1</td><td>3</td><td>8</td><td>15</td><td>64</td><td>65</td><td>...</td></tr></tbody></table><p>The sequence for $a$ is fairly straightforward. For $b$, I had to consult the <a href=https://oeis.org/>OEIS</a>, which only gave me a single match (<a href=https://oeis.org/A065500>A065500</a>) for the above sequence.</p><p>This leads us to conjecture the following statement.</p><p>$$
\Large
\forall n.\ G\,n\,(n-1)\,(\operatorname{lcm}(1\dots n)+n-1)
$$</p><p>Here, the $\operatorname{lcm}(1\dots n)$ is the least common multiple of all natural numbers from $1$ to $n$.
It is the smallest natural number that is divisible by all natural numbers from $1$ to $n$.</p><h2 id=the-proof-for-g328>The proof for $G\,3\,2\,8$<a hidden class=anchor aria-hidden=true href=#the-proof-for-g328>#</a></h2><p>Before we prove the full statement, we will walk through the proof of $G\,3\,2\,8$. That is, we want to show the following.</p><p>$$
\Large
\forall f : \mathbb{F}_3\to\mathbb{F}_3.\ \forall x : \mathbb{F}_3.\ f^2\,x = f^8\,x
$$</p><p>Here, we have two cases to consider.</p><ul><li><p><strong>Case $f$ is not surjective.</strong></p><p>In this case, there must be at least one element in $\mathbb{F}_3$ that is not in the image of $f$.
This means the image of $f$ can be fully described by $\mathbb{F}_2$, so we only have to show $G\,2\,1\,7$.</p><p>Using the "extra lap" property twice, we can rewrite $G\,2\,1\,(1+2+2+2)$ to $G\,2\,1\,(1+2)$.
Finally, we need to show $G\,2\,1\,3$, which is Kaminski's original equation.</p><p>(You can imagine that the proof for $G\,4\,3\,15$ is going to fall back to this proof here).</p></li><li><p><strong>Case $f$ is surjective.</strong></p><p>Since the function $f$ is surjective and has exactly $n$ different values as input and output, there must be exactly one input for every output, so $f$ is also injective.
This means $f$ must be a bijection, and hence a permutation.</p><p>The cycle length of this permutation could be $1$, $2$, or $3$.
In general, it's not possible to have cycles in $\mathbb{F}_n$ that are longer than $n$.
This is because, if you make a list of the values $f^0 x$, $f^1 x$, $f^2 x$ to $f^n x$,
then there are $n+1$ elements, but at most $n$ of those can be distinct.</p><p>If we apply $f$ to some value $6$ times, we are guaranteed to get the original value back, since $6$ is a multiple of all possible cycle lengths.</p><p>This means we get $G\,3\,0\,6$ for this case.
Using the "trailing" property, we get $G\,3\,2\,8$, which is what we wanted to show.</p></li></ul><p>Finally, we want to prove the general case.</p><h2 id=the-proof-for-the-general-case>The Proof for the General Case<a hidden class=anchor aria-hidden=true href=#the-proof-for-the-general-case>#</a></h2><p>$$
\Large
\forall n.\ G\,n\,(n-1)\,(\operatorname{lcm}(1\dots n)+n-1)
$$</p><p>Proof by natural induction over $n:\mathbb{N}$.</p><ul><li><p><strong>Case $n = 0$.</strong></p><p>Since $\mathbb{F}_0$ is empty, this case is trivial.</p></li><li><p><strong>Case $n \to n + 1$.</strong></p><p>We need to show $G\,(n+1)\,n\,(\operatorname{lcm}(1\dots (n+1))+n)$.</p><p>Here, we have two cases to consider.</p><ul><li><p><strong>Case $f$ is not surjective.</strong></p><p>Here, the image of $f$ can be fully described by $\mathbb{F}_n$.</p><p>So it suffices to show $G\,n\,(n-1)\,(\operatorname{lcm}(1\dots (n+1))+n-1)$.</p><p>Let $k$ be $\operatorname{lcm}(1\dots (n+1))\,/\,\operatorname{lcm}(1\dots n)$.</p><p>Using "extra lap" $k$-times, we get $G\,n\,(n-1)\,(\operatorname{lcm}(1\dots n)+n-1)$, which is the inductive hypothesis.</p></li><li><p><strong>Case $f$ is surjective.</strong></p><p>Now we know $f$ is a permutation with cycle length $\le n+1$.</p><p>So $f^{\operatorname{lcm}(1\dots (n+1))}$ is identity, since $\operatorname{lcm}(1\dots (n+1))$ is a multiple of the cycle length by construction.</p><p>This gives us $G\,(n+1)\,0\,(\operatorname{lcm}(1\dots (n+1)))$ for this case.</p><p>Using the "trailing" property, we get $G\,(n+1)\,n\,(\operatorname{lcm}(1\dots (n+1))+n)$, which is what we wanted to show.</p></li></ul></li></ul><p><em>Qed.</em></p><h1 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h1><p>We have proven the <em>Generalized Kaminski Equation</em>:</p><p>$$
\Large
\forall n.\ \forall f : \mathbb{F}_n\to\mathbb{F}_n.\ \forall x.\ f^{n-1}\,x = f^{\operatorname{lcm}(1\dots n) + n - 1}\,x
$$</p><p>After posting my results to the course-internal forum, I was handed one (1) cookie as a reward for my efforts<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> (it was worth it).</p><p>Is this equation useful? <em>Probably not.</em> The $\operatorname{lcm}(1\dots n)$ grows exponentially. If you have some unknown function on 4-bit numbers (so $\mathbb{F}_{16}$), you need $720\,735$ application of that function until you can safely replace it with just $15$ applications. For 5-bit numbers, you already need $144\,403\,552\,893\,631$ iterations before you can simplify anything.</p><p>Anyway, that's it, thank you.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Prof. Smolka also approached me about the post a few days later and offered to supervise my bachelor's thesis.
Unfortunately, I was already working on my thesis with another professor then and had to turn down the offer.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://slerpy.xyz/posts/new-website/><span class=title>« Prev</span><br><span>New Website!</span></a>
<a class=next href=https://slerpy.xyz/posts/cyclic-dripstone/><span class=title>Next »</span><br><span>Cyclic Dripstone</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://slerpy.xyz/>This is slerpy</a></span>
-
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>