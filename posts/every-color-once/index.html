<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Every Color Once | This is slerpy</title><meta name=keywords content><meta name=description content="This image contains every 18-bit color exactly once
I've been reminded of this age-old stack overflow coding challenge the other day and wanted to figure out how one could use fragment shaders to transform any input image into an image that uses every $n$-bit color exactly once.
The approach I took was to map every pixel from the input image into a ${(2^n)}^3$-cube, sort the pixels inside the cube by their RGB value respectively, and replace every pixel in the image by the final coordinate of the corresponding pixel inside the cube."><meta name=author content><link rel=canonical href=https://slerpy.xyz/posts/every-color-once/><link crossorigin=anonymous href=/assets/css/stylesheet.9c0d2f3029fcc5ad9fbb5eba7b33bfeecd13d9924ecf2fa1e6c62d06c67634ed.css integrity="sha256-nA0vMCn8xa2fu166ezO/7s0T2ZJOzy+h5sYtBsZ2NO0=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://slerpy.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://slerpy.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://slerpy.xyz/favicon-32x32.png><link rel=apple-touch-icon href=https://slerpy.xyz/apple-touch-icon.png><link rel=mask-icon href=https://slerpy.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Every Color Once"><meta property="og:description" content="This image contains every 18-bit color exactly once
I've been reminded of this age-old stack overflow coding challenge the other day and wanted to figure out how one could use fragment shaders to transform any input image into an image that uses every $n$-bit color exactly once.
The approach I took was to map every pixel from the input image into a ${(2^n)}^3$-cube, sort the pixels inside the cube by their RGB value respectively, and replace every pixel in the image by the final coordinate of the corresponding pixel inside the cube."><meta property="og:type" content="article"><meta property="og:url" content="https://slerpy.xyz/posts/every-color-once/"><meta property="og:image" content="https://slerpy.xyz/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-24T00:00:00+00:00"><meta property="article:modified_time" content="2020-05-24T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://slerpy.xyz/papermod-cover.png"><meta name=twitter:title content="Every Color Once"><meta name=twitter:description content="This image contains every 18-bit color exactly once
I've been reminded of this age-old stack overflow coding challenge the other day and wanted to figure out how one could use fragment shaders to transform any input image into an image that uses every $n$-bit color exactly once.
The approach I took was to map every pixel from the input image into a ${(2^n)}^3$-cube, sort the pixels inside the cube by their RGB value respectively, and replace every pixel in the image by the final coordinate of the corresponding pixel inside the cube."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://slerpy.xyz/posts/"},{"@type":"ListItem","position":2,"name":"Every Color Once","item":"https://slerpy.xyz/posts/every-color-once/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Every Color Once","name":"Every Color Once","description":"This image contains every 18-bit color exactly once\nI've been reminded of this age-old stack overflow coding challenge the other day and wanted to figure out how one could use fragment shaders to transform any input image into an image that uses every $n$-bit color exactly once.\nThe approach I took was to map every pixel from the input image into a ${(2^n)}^3$-cube, sort the pixels inside the cube by their RGB value respectively, and replace every pixel in the image by the final coordinate of the corresponding pixel inside the cube.","keywords":[],"articleBody":"This image contains every 18-bit color exactly once\nI've been reminded of this age-old stack overflow coding challenge the other day and wanted to figure out how one could use fragment shaders to transform any input image into an image that uses every $n$-bit color exactly once.\nThe approach I took was to map every pixel from the input image into a ${(2^n)}^3$-cube, sort the pixels inside the cube by their RGB value respectively, and replace every pixel in the image by the final coordinate of the corresponding pixel inside the cube.\nWith this approach, it's fairly easy to see that every color must only be used exactly once and it doesn't take too long to render, but the results strongly depend on how colorful the input image was in the first place. The base image I used to get the above result was a WIP screenshot I took while working on this shader, so the image was already close to containing every color.\nHere are some more results:\n","wordCount":"169","inLanguage":"en","datePublished":"2020-05-24T00:00:00Z","dateModified":"2020-05-24T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://slerpy.xyz/posts/every-color-once/"},"publisher":{"@type":"Organization","name":"This is slerpy","logo":{"@type":"ImageObject","url":"https://slerpy.xyz/favicon.ico"}}}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css integrity=sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0 crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js integrity=sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],macros:{"’":"'"}})})</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://slerpy.xyz/ accesskey=h title="This is slerpy (Alt + H)">This is slerpy</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://slerpy.xyz/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://slerpy.xyz/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://slerpy.xyz/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://slerpy.xyz/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://slerpy.xyz/legacy/ title=Legacy><span>Legacy</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://slerpy.xyz/>Home</a>&nbsp;»&nbsp;<a href=https://slerpy.xyz/posts/>Posts</a></div><h1 class=post-title>Every Color Once</h1><div class=post-meta><span title='2020-05-24 00:00:00 +0000 UTC'>May 24, 2020</span>&nbsp;·&nbsp;1 min</div></header><div class=post-content><p>This image contains every 18-bit color exactly once</p><p><img loading=lazy src=/every-color-once/final.png alt=image></p><p>I've been reminded of <a href=https://codegolf.stackexchange.com/questions/22144/images-with-all-colors>this age-old stack overflow coding challenge</a> the other day and wanted to figure out how one could use fragment shaders to transform any input image into an image that uses every $n$-bit color exactly once.</p><p>The approach I took was to map every pixel from the input image into a ${(2^n)}^3$-cube, sort the pixels inside the cube by their RGB value respectively, and replace every pixel in the image by the final coordinate of the corresponding pixel inside the cube.</p><p>With this approach, it's fairly easy to see that every color must only be used exactly once and it doesn't take too long to render, but the results strongly depend on how colorful the input image was in the first place.
The base image I used to get the above result was a WIP screenshot I took while working on <a href=https://www.shadertoy.com/view/tlsSRs>this shader</a>, so the image was already close to containing every color.</p><p>Here are some more results:</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><img loading=lazy src=/every-color-once/res-1.png alt=image>
<img loading=lazy src=/every-color-once/res-3.png alt=image></td><td><img loading=lazy src=/every-color-once/res-2.png alt=image>
<img loading=lazy src=/every-color-once/res-4.png alt=image></td></tr></tbody></table></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://slerpy.xyz/posts/convergence/><span class=title>« Prev</span><br><span>Convergence</span></a>
<a class=next href=https://slerpy.xyz/posts/sler-py/><span class=title>Next »</span><br><span>sler.py</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://slerpy.xyz/>This is slerpy</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>